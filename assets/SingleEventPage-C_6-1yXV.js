import{r as i,u as _,a as p,j as e}from"./index-C19cURAZ.js";import{a as f,F as u}from"./Footer-BJc6Gm6q.js";import{N as d,B as N,h as E}from"./BackgroundImage-sQZmsHdt.js";import{P as h}from"./PageHeader-FYPO1XjQ.js";import{B as v}from"./Button-BFEXLVC4.js";import{M as k}from"./Skeleton-DxFabbxh.js";import{i as j}from"./thumbnail_Restaurangporträtt_Harpaviljongen_IG_A-16-DPvHoUaX.js";import{e as y,p as B}from"./private-CEXX9t2_.js";function T(t){const[r,s]=i.useState([]),[c,o]=i.useState(!0),[n,l]=i.useState(null);return i.useEffect(()=>{f.get(`https://harpaviljongen-db-api.onrender.com/api/events/${t}`).then(a=>{s(a.data.data)}).catch(a=>l(a)).finally(()=>o(!1))},[]),{fetchedEvent:r,loading:c,error:n}}function F(){const t=_();i.useEffect(()=>{if(t.hash){const x=t.hash.replace("#",""),g=document.getElementById(x);g&&g.scrollIntoView({behavior:"smooth"})}},[t]);const{eventId:r}=p(),{fetchedEvent:s,loading:c,error:o}=T(r);let n=y;if(s.type==="dj"?n=j:s.type==="wine"?n=j:s.type==="private"&&(n=B),c)return e.jsxs("section",{className:"page page-single-event",children:[e.jsx(d,{}),e.jsx(k,{})]});if(o||!s)return e.jsxs("section",{className:"page page-single-event",children:[e.jsx(d,{}),e.jsx(h,{text:"Kunde inte ladda evenemang"}),e.jsx("p",{className:"single-event__error",children:"Något gick fel. Försök igen senare."})]});const l=new Date(s.date),a=l.toLocaleDateString("sv-SE",{month:"long"}),m=l.getDate();return e.jsxs("main",{className:"page page-single-event",children:[e.jsx(d,{}),e.jsx(h,{text:s.title}),e.jsxs("article",{className:"single-event",children:[e.jsxs("section",{className:"single-event__hero",children:[e.jsx("img",{src:n,alt:s.title,className:"single-event__hero-img"}),e.jsx("div",{className:"single-event__hero-overlay"}),e.jsx("div",{className:"single-event__hero-content",children:e.jsx("p",{className:"single-event__hero-shortdesc",children:s.shortDescription})})]}),e.jsxs("section",{className:"single-event__details-row",children:[e.jsxs("div",{className:"single-event__detail",children:[e.jsx("span",{className:"single-event__detail-label",children:"Datum"}),e.jsxs("span",{className:"single-event__detail-value",children:[m," ",a]})]}),e.jsxs("div",{className:"single-event__detail",children:[e.jsx("span",{className:"single-event__detail-label",children:"Tid"}),e.jsxs("span",{className:"single-event__detail-value",children:[s.startTime," – ",s.endTime]})]}),e.jsxs("div",{className:"single-event__detail",children:[e.jsx("span",{className:"single-event__detail-label",children:"Plats"}),e.jsx("span",{className:"single-event__detail-value",children:"Harpaviljongen"})]}),s.type==="dj"&&e.jsx("div",{className:"single-event__detail single-event__detail--button",children:e.jsx(v,{text:"BOKA BORDSPAKETET",link:"mailto:info@harpaviljongen.com?subject=Boka%20event%20Kräftvinylskiva"})}),e.jsx(N,{img:E,altText:"background image event",type:"event"})]}),e.jsxs("section",{className:"single-event__main-content",children:[e.jsx("div",{className:"single-event__desc",children:e.jsx("p",{className:"single-event__desc-lead",children:s.longDescription})}),e.jsxs("aside",{className:"single-event__aside",children:[e.jsx("h2",{className:"single-event__aside-title",children:"Mer information"}),e.jsxs("ul",{className:"single-event__aside-list",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"När"})," ",m," ",a]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Tid"})," ",s.startTime," –"," ",s.endTime]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Var"})," Harpaviljongen"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Boka"})," ",e.jsx("a",{href:"mailto:jonathan@harpaviljongen.com?subject=Boka%20event%20Kräftvinylskiva",children:e.jsx("u",{children:"mejla"})})," ","eller"," ",e.jsx("a",{href:"tel:076-777 16 67",children:e.jsx("u",{children:"ring"})})]})]})]})]})]}),e.jsx(v,{text:"TILL TOPPEN",link:"#top"}),e.jsx(u,{})]})}export{F as default};
