import{r as l,j as e,u as h}from"./index-C2CChgxI.js";import{a as p,F as d}from"./Footer-CZtj0Pcm.js";import{M as m}from"./Skeleton-Cb24M93r.js";import"./BackgroundImage-DIsmDb6i.js";import{B as f}from"./Button-BDJjjOgZ.js";import{P as u}from"./PageHeader-CYlEUTE-.js";import{H as x}from"./HeroSection-B_n_ByFO.js";import"./thumbnail_Restaurangporträtt_Harpaviljongen_IG_A-3-Cz-JxXVF.js";import"./thumbnail_Restaurangporträtt_Harpaviljongen_IG_A-11-BBjFbcIz.js";function _(){const[i,o]=l.useState([]),[r,c]=l.useState(!0),[a,s]=l.useState(null);return l.useEffect(()=>{p.get("https://harpaviljongen-db-api.onrender.com/api/wine-list").then(t=>{o(t.data.data)}).catch(t=>s(t)).finally(()=>c(!1))},[]),{fetchedWineList:i,loading:r,error:a}}function j(){const{fetchedWineList:i,loading:o,error:r}=_();return o?e.jsx(m,{}):r?e.jsx(m,{}):Array.isArray(i)?e.jsx("section",{className:"wine-list",children:i.map(c=>e.jsxs("section",{className:"wine-list__category",children:[e.jsx("h2",{className:"wine-list__title",children:c.title}),c.countries&&Object.values(c.countries).filter(a=>a.areas&&a.areas.some(s=>s.items&&s.items.some(t=>t.active!==!1&&t.name&&t.price))).map(a=>e.jsxs("section",{className:"wine-list__country",children:[e.jsx("h3",{className:"wine-list__country-name",children:e.jsx("em",{children:a.country})}),a.areas.filter(s=>s.items&&s.items.some(t=>t.active!==!1&&t.name&&t.price)).map((s,t)=>e.jsxs("section",{className:"wine-list__area-block",children:[s.area&&s.area.toLowerCase()!=="other"?e.jsx("h4",{className:"wine-list__area",children:s.area.toUpperCase()}):e.jsx("h4",{className:"wine-list__area wine-list__area--empty"}),s.items.filter(n=>n.active!==!1&&n.name&&n.price).map(n=>e.jsxs("article",{className:"wine-list__wine-row",children:[e.jsx("h5",{className:"wine-list__wine-name",children:n.name}),e.jsx("span",{className:"wine-list__wine-dots"}),e.jsxs("h5",{className:"wine-list__wine-price",children:[n.price," kr"]})]},n._id))]},s.area||t))]},a.country))]},c._id))}):e.jsx("p",{children:"Ingen vinlista hittades."})}function y(){const i=h();return l.useEffect(()=>{if(i.hash){const o=i.hash.replace("#",""),r=document.getElementById(o);r&&r.scrollIntoView({behavior:"smooth"})}},[i]),e.jsxs("section",{className:"page page-winelist",children:[e.jsx(x,{type:"wine"}),e.jsx(u,{text:"VINLISTA"}),e.jsx(j,{}),e.jsx(f,{text:"TILL TOPPEN",link:"#top"}),e.jsx(d,{})]})}export{y as default};
