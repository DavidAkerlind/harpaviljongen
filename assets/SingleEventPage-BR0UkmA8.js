import{r as i,u as j,a as p,j as e}from"./index-DOSH1O-G.js";import{a as x}from"./index-xsH4HHeE.js";import{N as d,h as _}from"./NavBar-Dhyz-8md.js";import{P as N}from"./PageHeader-C_k62_cl.js";import{B as v}from"./Button-DJ2cp_7S.js";import{B as u}from"./BackgroundImage-Cma8i0sI.js";import{M as f}from"./Skeleton-kM5IhCOd.js";import{F as E}from"./Footer-Aw0WE-BM.js";const k="/assets/event-DXeZzkFn.png",y="/assets/dj2-DiYhlrKo.jpg",D="/assets/wine-tasting2-DDlQ7Msb.jpg",I="/assets/private-Cu68kE6_.png";function T(a){const[r,s]=i.useState([]),[c,o]=i.useState(!0),[n,l]=i.useState(null);return i.useEffect(()=>{x.get(`https://harpaviljongen-db-api.onrender.com/api/events/${a}`).then(t=>{s(t.data.data)}).catch(t=>l(t)).finally(()=>o(!1))},[]),{fetchedEvent:r,loading:c,error:n}}function H(){const a=j();i.useEffect(()=>{if(a.hash){const h=a.hash.replace("#",""),m=document.getElementById(h);m&&m.scrollIntoView({behavior:"smooth"})}},[a]);const{eventId:r}=p(),{fetchedEvent:s,loading:c,error:o}=T(r);let n=k;if(s.type==="dj"?n=y:s.type==="wine"?n=D:s.type==="private"&&(n=I),c)return e.jsxs("section",{className:"page page-single-event",children:[e.jsx(d,{}),e.jsx(f,{})]});if(o||!s)return e.jsxs("section",{className:"page page-single-event",children:[e.jsx(d,{}),e.jsx(N,{text:"Kunde inte ladda evenemang"}),e.jsx("p",{className:"single-event__error",children:"Något gick fel. Försök igen senare."})]});const l=new Date(s.date),t=l.toLocaleDateString("sv-SE",{month:"long"}),g=l.getDate();return e.jsxs("main",{className:"page page-single-event",children:[e.jsx(d,{}),e.jsxs("article",{className:"single-event",children:[e.jsxs("section",{className:"single-event__hero",children:[e.jsx("img",{src:n,alt:s.title,className:"single-event__hero-img"}),e.jsx("div",{className:"single-event__hero-overlay"}),e.jsxs("div",{className:"single-event__hero-content",children:[e.jsx("h1",{className:"single-event__hero-title",children:s.title.toUpperCase()}),e.jsx("p",{className:"single-event__hero-shortdesc",children:s.shortDescription})]})]}),e.jsxs("section",{className:"single-event__details-row",children:[e.jsxs("div",{className:"single-event__detail",children:[e.jsx("span",{className:"single-event__detail-label",children:"Datum"}),e.jsxs("span",{className:"single-event__detail-value",children:[g," ",t]})]}),e.jsxs("div",{className:"single-event__detail",children:[e.jsx("span",{className:"single-event__detail-label",children:"Tid"}),e.jsxs("span",{className:"single-event__detail-value",children:[s.startTime," – ",s.endTime]})]}),e.jsxs("div",{className:"single-event__detail",children:[e.jsx("span",{className:"single-event__detail-label",children:"Plats"}),e.jsx("span",{className:"single-event__detail-value",children:"Harpaviljongen"})]}),s.type==="private"&&e.jsx("div",{className:"single-event__detail single-event__detail--button",children:e.jsx(v,{text:"BOKA EVENT",link:"mailto:info@harpaviljongen.se?subject=Boka%20eget%20event"})}),e.jsx(u,{img:_,altText:"background image event",type:"event"})]}),e.jsxs("section",{className:"single-event__main-content",children:[e.jsx("div",{className:"single-event__desc",children:e.jsx("p",{className:"single-event__desc-lead",children:s.longDescription})}),e.jsxs("aside",{className:"single-event__aside",children:[e.jsx("h2",{className:"single-event__aside-title",children:"Mer information"}),e.jsxs("ul",{className:"single-event__aside-list",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"När"})," ",g," ",t]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Tid"})," ",s.startTime," –"," ",s.endTime]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Var"})," Harpaviljongen"]})]})]})]})]}),e.jsx(v,{text:"TILL TOPPEN",link:"#top"}),e.jsx(E,{})]})}export{H as default};
