import{r as i,a as g,j as e}from"./index-Blj8PQ-h.js";import{a as m}from"./index-xsH4HHeE.js";import{N as o,h}from"./NavBar-BHasdpOf.js";import{P as v}from"./PageHeader-CJijaWKn.js";import{B as j}from"./Button-DHR4G-ld.js";import{B as x}from"./BackgroundImage-Vppk8wBS.js";import{M as _}from"./Skeleton-Dk-s6km1.js";function p(l){const[s,r]=i.useState([]),[c,n]=i.useState(!0),[a,t]=i.useState(null);return i.useEffect(()=>{m.get(`https://harpaviljongen-db-api.onrender.com/api/events/${l}`).then(d=>{r(d.data.data)}).catch(d=>t(d)).finally(()=>n(!1))},[]),{fetchedEvent:s,loading:c,error:a}}function k(){const{eventId:l}=g(),{fetchedEvent:s,loading:r,error:c}=p(l);if(r)return e.jsxs("section",{className:"page page-single-event",children:[e.jsx(o,{}),e.jsx(_,{})]});if(c||!s)return e.jsxs("section",{className:"page page-single-event",children:[e.jsx(o,{}),e.jsx(v,{text:"Kunde inte ladda evenemang"}),e.jsx("p",{className:"single-event__error",children:"Något gick fel. Försök igen senare."})]});const n=new Date(s.date),a=n.toLocaleDateString("sv-SE",{month:"long"}),t=n.getDate();return e.jsxs("main",{className:"page page-single-event",children:[e.jsx(o,{}),e.jsxs("article",{className:"single-event",children:[e.jsxs("section",{className:"single-event__hero",children:[e.jsx("img",{src:s.image,alt:s.title,className:"single-event__hero-img"}),e.jsx("div",{className:"single-event__hero-overlay"}),e.jsxs("div",{className:"single-event__hero-content",children:[e.jsx("h1",{className:"single-event__hero-title",children:s.title.toUpperCase()}),e.jsx("p",{className:"single-event__hero-shortdesc",children:s.shortDescription})]})]}),e.jsxs("section",{className:"single-event__details-row",children:[e.jsxs("div",{className:"single-event__detail",children:[e.jsx("span",{className:"single-event__detail-label",children:"Datum"}),e.jsxs("span",{className:"single-event__detail-value",children:[t," ",a]})]}),e.jsxs("div",{className:"single-event__detail",children:[e.jsx("span",{className:"single-event__detail-label",children:"Tid"}),e.jsxs("span",{className:"single-event__detail-value",children:[s.startTime," – ",s.endTime]})]}),e.jsxs("div",{className:"single-event__detail",children:[e.jsx("span",{className:"single-event__detail-label",children:"Plats"}),e.jsx("span",{className:"single-event__detail-value",children:"Harpaviljongen"})]}),s.type==="private"&&e.jsx("div",{className:"single-event__detail single-event__detail--button",children:e.jsx(j,{text:"BOKA EVENT",link:"mailto:info@harpaviljongen.se?subject=Boka%20eget%20event"})}),e.jsx(x,{img:h,altText:"background image event",type:"event"})]}),e.jsxs("section",{className:"single-event__main-content",children:[e.jsx("div",{className:"single-event__desc",children:e.jsx("p",{className:"single-event__desc-lead",children:s.longDescription})}),e.jsxs("aside",{className:"single-event__aside",children:[e.jsx("h2",{className:"single-event__aside-title",children:"Mer information"}),e.jsxs("ul",{className:"single-event__aside-list",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"När"})," ",t," ",a]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Tid"})," ",s.startTime," –"," ",s.endTime]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Var"})," Harpaviljongen"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Ålder"})," 18+"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Biljetter"})," 450:-"]})]})]})]})]})]})}export{k as default};
