import{r as c,j as e,u as h}from"./index-DpQ8b8Y8.js";import{a as d,F as p}from"./Footer-BciXpcOa.js";import{M as m}from"./Skeleton-JbCbyDn4.js";import"./BackgroundImage-Dj--N7rw.js";import{B as x}from"./Button-C7w-QV_m.js";import{P as u}from"./PageHeader-B7YkRPUf.js";import{H as _}from"./HeroSection-D3IHw4RG.js";import"./thumbnail_Restaurangporträtt_Harpaviljongen_IG_A-3-Cz-JxXVF.js";import"./thumbnail_Restaurangporträtt_Harpaviljongen_IG_A-11-BBjFbcIz.js";function f(){const[s,n]=c.useState([]),[i,a]=c.useState(!0),[r,t]=c.useState(null);return c.useEffect(()=>{d.get("https://harpaviljongen-db-api.onrender.com/api/wine-list").then(o=>{n(o.data.data)}).catch(o=>t(o)).finally(()=>a(!1))},[]),{fetchedWineList:s,loading:i,error:r}}function j(){const{fetchedWineList:s,loading:n,error:i}=f();return n?e.jsx(m,{}):i?e.jsx(m,{}):Array.isArray(s)?e.jsx("section",{className:"wine-list",children:s.map(a=>e.jsxs("section",{className:"wine-list__category",children:[e.jsx("h2",{className:"wine-list__title",children:a.title}),a.countries&&Object.values(a.countries).map(r=>e.jsxs("section",{className:"wine-list__country",children:[e.jsx("h3",{className:"wine-list__country-name",children:e.jsx("em",{children:r.country})}),r.areas.map((t,o)=>e.jsxs("section",{className:"wine-list__area-block",children:[t.area&&t.area.toLowerCase()!=="other"?e.jsx("h4",{className:"wine-list__area",children:t.area.toUpperCase()}):e.jsx("h4",{className:"wine-list__area wine-list__area--empty"}),t.items.map(l=>e.jsxs("article",{className:"wine-list__wine-row",children:[e.jsx("h5",{className:"wine-list__wine-name",children:l.name}),e.jsx("span",{className:"wine-list__wine-dots"}),e.jsxs("h5",{className:"wine-list__wine-price",children:[l.price," kr"]})]},l._id))]},t.area||o))]},r.country))]},a._id))}):e.jsx("p",{children:"Ingen vinlista hittades."})}function P(){const s=h();return c.useEffect(()=>{if(s.hash){const n=s.hash.replace("#",""),i=document.getElementById(n);i&&i.scrollIntoView({behavior:"smooth"})}},[s]),e.jsxs("section",{className:"page page-winelist",children:[e.jsx(_,{type:"wine"}),e.jsx(u,{text:"VINLISTA"}),e.jsx(j,{}),e.jsx(x,{text:"TILL TOPPEN",link:"#top"}),e.jsx(p,{})]})}export{P as default};
