import{r as i,u as j,a as x,j as e}from"./index-CxTIMMGK.js";import{a as _}from"./index-xsH4HHeE.js";import{N as d,h as p}from"./NavBar-BvunjndA.js";import{P as N}from"./PageHeader-Bl2DdbCD.js";import{B as h}from"./Button-BemzZ5yx.js";import{B as f}from"./BackgroundImage-CPtg7G1q.js";import{M as u}from"./Skeleton-DCOtjVHl.js";import{e as E,d as y,w as B,p as I}from"./private-Cy9yTzyG.js";import{F as T}from"./Footer-BZ2pMoJg.js";function b(a){const[r,s]=i.useState([]),[c,o]=i.useState(!0),[n,l]=i.useState(null);return i.useEffect(()=>{_.get(`https://harpaviljongen-db-api.onrender.com/api/events/${a}`).then(t=>{s(t.data.data)}).catch(t=>l(t)).finally(()=>o(!1))},[]),{fetchedEvent:r,loading:c,error:n}}function V(){const a=j();i.useEffect(()=>{if(a.hash){const v=a.hash.replace("#",""),m=document.getElementById(v);m&&m.scrollIntoView({behavior:"smooth"})}},[a]);const{eventId:r}=x(),{fetchedEvent:s,loading:c,error:o}=b(r);let n=E;if(s.type==="dj"?n=y:s.type==="wine"?n=B:s.type==="private"&&(n=I),c)return e.jsxs("section",{className:"page page-single-event",children:[e.jsx(d,{}),e.jsx(u,{})]});if(o||!s)return e.jsxs("section",{className:"page page-single-event",children:[e.jsx(d,{}),e.jsx(N,{text:"Kunde inte ladda evenemang"}),e.jsx("p",{className:"single-event__error",children:"Något gick fel. Försök igen senare."})]});const l=new Date(s.date),t=l.toLocaleDateString("sv-SE",{month:"long"}),g=l.getDate();return e.jsxs("main",{className:"page page-single-event",children:[e.jsx(d,{}),e.jsxs("article",{className:"single-event",children:[e.jsxs("section",{className:"single-event__hero",children:[e.jsx("img",{src:n,alt:s.title,className:"single-event__hero-img"}),e.jsx("div",{className:"single-event__hero-overlay"}),e.jsxs("div",{className:"single-event__hero-content",children:[e.jsx("h1",{className:"single-event__hero-title",children:s.title.toUpperCase()}),e.jsx("p",{className:"single-event__hero-shortdesc",children:s.shortDescription})]})]}),e.jsxs("section",{className:"single-event__details-row",children:[e.jsxs("div",{className:"single-event__detail",children:[e.jsx("span",{className:"single-event__detail-label",children:"Datum"}),e.jsxs("span",{className:"single-event__detail-value",children:[g," ",t]})]}),e.jsxs("div",{className:"single-event__detail",children:[e.jsx("span",{className:"single-event__detail-label",children:"Tid"}),e.jsxs("span",{className:"single-event__detail-value",children:[s.startTime," – ",s.endTime]})]}),e.jsxs("div",{className:"single-event__detail",children:[e.jsx("span",{className:"single-event__detail-label",children:"Plats"}),e.jsx("span",{className:"single-event__detail-value",children:"Harpaviljongen"})]}),s.type==="private"&&e.jsx("div",{className:"single-event__detail single-event__detail--button",children:e.jsx(h,{text:"BOKA EVENT",link:"mailto:info@harpaviljongen.se?subject=Boka%20eget%20event"})}),e.jsx(f,{img:p,altText:"background image event",type:"event"})]}),e.jsxs("section",{className:"single-event__main-content",children:[e.jsx("div",{className:"single-event__desc",children:e.jsx("p",{className:"single-event__desc-lead",children:s.longDescription})}),e.jsxs("aside",{className:"single-event__aside",children:[e.jsx("h2",{className:"single-event__aside-title",children:"Mer information"}),e.jsxs("ul",{className:"single-event__aside-list",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"När"})," ",g," ",t]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Tid"})," ",s.startTime," –"," ",s.endTime]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Var"})," Harpaviljongen"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Ålder"})," 18+"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Biljetter"})," 450:-"]})]})]})]})]}),e.jsx(h,{text:"TILL TOPPEN",link:"#top"}),e.jsx(T,{})]})}export{V as default};
