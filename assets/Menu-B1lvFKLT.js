import{j as e,r as o}from"./index-T0cwoPk8.js";import{B as h}from"./Flexbox-eYpg5IUN.js";import{a as x}from"./index-xsH4HHeE.js";import{M as j}from"./Skeleton-DPW_FE_o.js";function f({title:r,description:n,price:t,producer:i}){return e.jsxs("article",{className:"menu-item",children:[e.jsx("h3",{className:"menu-item__title",children:r}),e.jsxs("p",{className:"menu-item__description",children:[n,i&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("strong",{children:" Producent:"})," ",e.jsx("em",{children:i})]})]}),t&&e.jsxs("p",{className:"menu-item__price",children:[t,":-"]})]})}function _(r){const[n,t]=o.useState([]),[i,c]=o.useState(!0),[m,l]=o.useState(null);return o.useEffect(()=>{r&&x.get(`https://harpaviljongen-db-api.onrender.com/api/menus/${r}`).then(s=>{t(s.data.data)}).catch(s=>l(s)).finally(()=>c(!1))},[r]),{fetchedMenu:n,loading:i,error:m}}function E({menuId:r,img:n}){const{fetchedMenu:t,loading:i,error:c}=_(r);if(i)return e.jsx(j,{});if(c)return e.jsxs("p",{children:["Error loading menu: ",c.message]});const{title:m,description:l,type:s,price:d,items:u}=t;return u?e.jsxs("section",{id:`menu ${s}`,className:`menu ${s}`,children:[e.jsx("h2",{className:"menu__title",children:m}),l&&e.jsx("p",{className:"menu__description",children:l}),s==="wine"&&e.jsxs("h2",{"aria-label":"pris per vinglas",className:" menu__description menu__description--price",children:[d," ",e.jsx("strong",{children:"/glas"})]}),e.jsx("section",{className:"menu__items",children:u.filter(a=>a.active).map((a,p)=>e.jsx(f,{title:a.title,description:a.description,price:a.price,producer:a.producer},p))}),n&&e.jsx(h,{img:n,altText:`background image ${s}`,type:s})]}):e.jsx("p",{children:"No menu items available"})}export{E as M};
